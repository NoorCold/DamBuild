{"version":3,"file":"js/458.8e6f48c8.js","mappings":"qHAAe,SAASA,EAAWC,EAAWC,EAASC,GACrD,IAAIC,EACAC,EAEAC,EAAe,IAAIC,uBAEnBC,EAAc,CAChB,KAAQ,QACR,SAAY,CACV,GAAM,mBACN,GAAM,kBACN,EAAK,oBAEP,OAAU,CACR,EAAK,mBACL,EAAK,mBACL,EAAK,oBAEP,GAAM,CACJ,EAAK,mBACL,EAAK,mBACL,EAAK,mBAEP,IAAO,IAST,SAASC,EAAgBC,GAEvB,IAAIC,EAAUC,SAASC,eAAeX,GAElCY,EAAe,IAAIC,OAAOC,QAAQC,YAAYC,uBAElDJ,EAAaK,WAAaR,EAE1BN,EAAM,IAAIU,OAAOC,QAAQC,YAAYG,iBAAiBN,GAEtDT,EAAIgB,QAAQpB,GAEZG,EAAWC,EAAIiB,YACfnB,EAAMoB,MAAMnB,SAAWA,EAGvBA,EAASoB,iBAAiBT,OAAOC,QAAQS,OAAOC,cAAcC,WAAW,WACvE,IAAIC,EAAa,IAAIb,OAAOc,IAAIC,SAASC,MAAM,UAAW,GAC1D3B,EAAS4B,mBAAmBJ,GAC5BxB,EAAS6B,qBAAqBzB,GAC9BJ,EAAS8B,gBAAgB1B,GACzBJ,EAAS+B,QACX,GAEF,CAGA,SAASC,EAAgBC,GACvBC,QAAQC,IAAIF,EACd,CAlCA/B,EAAaL,UAAYA,EAEzBuC,iBAAiBC,KAAKnC,EAAcG,EAAiB2B,EAiCvD,C,yWCjDA,MAAMjC,GAAQuC,EAAAA,EAAAA,MAERzC,EAAYE,EAAMoB,MAAMtB,U,OAE9B0C,EAAAA,EAAAA,KAAU,KACRxC,EAAMoB,MAAMnB,SAAW,MACvBJ,EAAAA,EAAAA,GAAWC,EAAW,gBAAiBE,EAAM,I,kDCb/C,MAAMyC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,O","sources":["webpack://dam-project/./src/hooks/useBimface.js","webpack://dam-project/./src/views/HomeView.vue","webpack://dam-project/./src/views/HomeView.vue?1da1"],"sourcesContent":["export default function useBimface(viewToken, mountId, store) {\r\n  let viewer3D;\r\n  let app;\r\n  //创建BimfaceSDKLoaderConfig\r\n  let loaderConfig = new BimfaceSDKLoaderConfig();\r\n\r\n  let cameraState = { /* 设置默认相机视角 */\r\n    \"name\": \"persp\",\r\n    \"position\": {\r\n      \"x\": -380.01697371361814,\r\n      \"y\": -277.1137947611523,\r\n      \"z\": 108.94633243782934\r\n    },\r\n    \"target\": {\r\n      \"x\": 27.321153588783712,\r\n      \"y\": 130.22473225117918,\r\n      \"z\": 0.12932676720203545\r\n    },\r\n    \"up\": {\r\n      \"x\": 0.13125147472991225,\r\n      \"y\": 0.13124786535674093,\r\n      \"z\": 0.9826225359824198\r\n    },\r\n    \"fov\": 45\r\n  };\r\n\r\n  //设置BimfaceSDKLoaderConfig的viewToken\r\n  loaderConfig.viewToken = viewToken;\r\n  //调用BimfaceSDKLoader的load方法加载模型\r\n  BimfaceSDKLoader.load(loaderConfig, successCallback, failureCallback);\r\n\r\n  //加载成功回调函数\r\n  function successCallback(viewMetaData) {\r\n    //获取DOM元素\r\n    let domShow = document.getElementById(mountId);\r\n    //创建WebApplication3DConfig\r\n    let webAppConfig = new Glodon.Bimface.Application.WebApplication3DConfig();\r\n    //设置创建WebApplication3DConfig的dom元素值\r\n    webAppConfig.domElement = domShow;\r\n    //创建WebApplication3D\r\n    app = new Glodon.Bimface.Application.WebApplication3D(webAppConfig);\r\n    //添加待显示的模型\r\n    app.addView(viewToken);\r\n    //获取viewer3D对象\r\n    viewer3D = app.getViewer();\r\n    store.state.viewer3D = viewer3D\r\n\r\n\r\n    viewer3D.addEventListener(Glodon.Bimface.Viewer.Viewer3DEvent.ViewAdded, function () {\r\n      let monochrome = new Glodon.Web.Graphics.Color(\"#222222\", 1); /* 设置背景色 */\r\n      viewer3D.setBackgroundColor(monochrome);\r\n      viewer3D.recordCustomHomeview(cameraState); /* 设置默认相机位置 */\r\n      viewer3D.setCameraStatus(cameraState); /* 设置相机位置 */\r\n      viewer3D.render();\r\n    });\r\n    //添加界面开始加载时事件\r\n  };\r\n\r\n  //加载失败回调函数\r\n  function failureCallback(error) {\r\n    console.log(error);\r\n  };\r\n}","<template>\n  <div class=\"home-view\">\n    <div class=\"container dam-view\">\n      <div class=\"box\" id=\"home-dam-view\"></div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport useBimface from '@/hooks/useBimface';\nimport { onMounted } from 'vue';\nimport { useStore } from 'vuex';\n\nconst store = useStore()\n\nconst viewToken = store.state.viewToken\n\nonMounted(() => {\n  store.state.viewer3D = null\n  useBimface(viewToken, \"home-dam-view\", store)\n})\n\n</script>\n\n<style lang='less' scoped>\n.home-view {\n  position: relative;\n  box-sizing: border-box;\n  height: calc(100% - 10px);\n  margin-right: 10px;\n\n  flex: 1;\n\n  .container {\n    position: absolute;\n    box-sizing: border-box;\n    padding: 10px 0 0 10px;\n\n    .box {\n      box-sizing: border-box;\n      width: 100%;\n      height: 100%;\n      padding: 10px;\n      background-color: rgb(34, 34, 34);\n      border-radius: 20px;\n      overflow: hidden;\n    }\n  }\n\n  .dam-view {\n    display: block;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    // transition: all .1s ease;\n  }\n\n}\n</style>","import script from \"./HomeView.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./HomeView.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./HomeView.vue?vue&type=style&index=0&id=2b67f8bb&lang=less&scoped=true\"\n\nimport exportComponent from \"E:\\\\Code\\\\Dam\\\\大坝项目\\\\dam-project\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-2b67f8bb\"]])\n\nexport default __exports__"],"names":["useBimface","viewToken","mountId","store","viewer3D","app","loaderConfig","BimfaceSDKLoaderConfig","cameraState","successCallback","viewMetaData","domShow","document","getElementById","webAppConfig","Glodon","Bimface","Application","WebApplication3DConfig","domElement","WebApplication3D","addView","getViewer","state","addEventListener","Viewer","Viewer3DEvent","ViewAdded","monochrome","Web","Graphics","Color","setBackgroundColor","recordCustomHomeview","setCameraStatus","render","failureCallback","error","console","log","BimfaceSDKLoader","load","useStore","onMounted","__exports__"],"sourceRoot":""}