{"version":3,"file":"js/105.c5e07725.js","mappings":"qHAAe,SAASA,EAAWC,EAAWC,EAASC,GACrD,IAAIC,EACAC,EAEAC,EAAe,IAAIC,uBAEnBC,EAAc,CAChB,KAAQ,QACR,SAAY,CACV,GAAM,mBACN,GAAM,kBACN,EAAK,oBAEP,OAAU,CACR,EAAK,mBACL,EAAK,mBACL,EAAK,oBAEP,GAAM,CACJ,EAAK,mBACL,EAAK,mBACL,EAAK,mBAEP,IAAO,IAST,SAASC,EAAgBC,GAEvB,IAAIC,EAAUC,SAASC,eAAeX,GAElCY,EAAe,IAAIC,OAAOC,QAAQC,YAAYC,uBAElDJ,EAAaK,WAAaR,EAE1BN,EAAM,IAAIU,OAAOC,QAAQC,YAAYG,iBAAiBN,GAEtDT,EAAIgB,QAAQpB,GAEZG,EAAWC,EAAIiB,YACfnB,EAAMoB,MAAMnB,SAAWA,EAGvBA,EAASoB,iBAAiBT,OAAOC,QAAQS,OAAOC,cAAcC,WAAW,WACvE,IAAIC,EAAa,IAAIb,OAAOc,IAAIC,SAASC,MAAM,UAAW,GAC1D3B,EAAS4B,mBAAmBJ,GAC5BxB,EAAS6B,qBAAqBzB,GAC9BJ,EAAS8B,gBAAgB1B,GACzBJ,EAAS+B,QACX,GAEF,CAGA,SAASC,EAAgBC,GACvBC,QAAQC,IAAIF,EACd,CAlCA/B,EAAaL,UAAYA,EAEzBuC,iBAAiBC,KAAKnC,EAAcG,EAAiB2B,EAiCvD,C,kIC9DA,SAASM,EAAeC,EAASvC,GAE/BA,EAASwC,WAAWC,0BAA0B,CAACC,OAAOH,KAEtDvC,EAAS2C,2BAET3C,EAASwC,WAAWI,0BAEpB,IAAIC,EAAQ,IAAIlC,OAAOc,IAAIC,SAASC,MAAM,UAAW,IAErD3B,EAASwC,WAAWM,+BACpB9C,EAAS+C,4BAA4B,CAACL,OAAOH,IAAWM,GACxD7C,EAAS+B,QACX,CAEA,SAASiB,EAAYC,EAAGjD,GAEtBA,EAASwC,WAAWU,kCAAkC,CAAC,CAAC,OAAUD,KAElEjD,EAAS2C,2BAET3C,EAASwC,WAAWI,0BAEpB,IAAIC,EAAQ,IAAIlC,OAAOc,IAAIC,SAASC,MAAM,UAAW,IAErD3B,EAASwC,WAAWM,+BACpB9C,EAASmD,oCAAoC,CAAC,CAAC,OAAUF,IAAKJ,GAC9D7C,EAAS+B,QACX,CAEA,SAASqB,EAAaC,EAAQrD,GACvBqD,EAAOC,eAIVtD,EAASwC,WAAWe,6BAA6B,CAAC,CAAC,OAAUF,EAAOJ,KACpEjD,EAAS+B,WAJT/B,EAASwC,WAAWgB,kCAAkC,CAAC,CAAC,OAAUH,EAAOJ,KACzEjD,EAAS+B,UAKX,IAAK,IAAI0B,KAAaJ,EAAOK,WAC3BD,EAAUH,eAAiBD,EAAOC,aAEtC,CAEA,SAASK,EAAgBF,EAAWzD,GAC7ByD,EAAUH,eAIbtD,EAASwC,WAAWoB,qBAAqB,CAAClB,OAAOe,EAAUI,OAC3D7D,EAAS+B,WAJT/B,EAASwC,WAAWsB,0BAA0B,CAACpB,OAAOe,EAAUI,OAChE7D,EAAS+B,SAKb,C,o8CC7CA,MAAMgC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,O,47DCsEA,MAAMhE,GAAQiE,EAAAA,EAAAA,MAERnE,EAAYE,EAAMoB,MAAMtB,U,OAC9BoE,EAAAA,EAAAA,KAAU,KACRlE,EAAMoB,MAAMnB,SAAW,MACvBJ,EAAAA,EAAAA,GAAWC,EAAW,aAAcE,EAAM,I,6HC7E5C,MAAMgE,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,O","sources":["webpack://dam-project/./src/hooks/useBimface.js","webpack://dam-project/./src/hooks/bimfaceActions.js","webpack://dam-project/./src/components/Sidebar.vue","webpack://dam-project/./src/views/MonitorView.vue","webpack://dam-project/./src/views/MonitorView.vue?e6cd"],"sourcesContent":["export default function useBimface(viewToken, mountId, store) {\r\n  let viewer3D;\r\n  let app;\r\n  //创建BimfaceSDKLoaderConfig\r\n  let loaderConfig = new BimfaceSDKLoaderConfig();\r\n\r\n  let cameraState = { /* 设置默认相机视角 */\r\n    \"name\": \"persp\",\r\n    \"position\": {\r\n      \"x\": -380.01697371361814,\r\n      \"y\": -277.1137947611523,\r\n      \"z\": 108.94633243782934\r\n    },\r\n    \"target\": {\r\n      \"x\": 27.321153588783712,\r\n      \"y\": 130.22473225117918,\r\n      \"z\": 0.12932676720203545\r\n    },\r\n    \"up\": {\r\n      \"x\": 0.13125147472991225,\r\n      \"y\": 0.13124786535674093,\r\n      \"z\": 0.9826225359824198\r\n    },\r\n    \"fov\": 45\r\n  };\r\n\r\n  //设置BimfaceSDKLoaderConfig的viewToken\r\n  loaderConfig.viewToken = viewToken;\r\n  //调用BimfaceSDKLoader的load方法加载模型\r\n  BimfaceSDKLoader.load(loaderConfig, successCallback, failureCallback);\r\n\r\n  //加载成功回调函数\r\n  function successCallback(viewMetaData) {\r\n    //获取DOM元素\r\n    let domShow = document.getElementById(mountId);\r\n    //创建WebApplication3DConfig\r\n    let webAppConfig = new Glodon.Bimface.Application.WebApplication3DConfig();\r\n    //设置创建WebApplication3DConfig的dom元素值\r\n    webAppConfig.domElement = domShow;\r\n    //创建WebApplication3D\r\n    app = new Glodon.Bimface.Application.WebApplication3D(webAppConfig);\r\n    //添加待显示的模型\r\n    app.addView(viewToken);\r\n    //获取viewer3D对象\r\n    viewer3D = app.getViewer();\r\n    store.state.viewer3D = viewer3D\r\n\r\n\r\n    viewer3D.addEventListener(Glodon.Bimface.Viewer.Viewer3DEvent.ViewAdded, function () {\r\n      let monochrome = new Glodon.Web.Graphics.Color(\"#222222\", 1); /* 设置背景色 */\r\n      viewer3D.setBackgroundColor(monochrome);\r\n      viewer3D.recordCustomHomeview(cameraState); /* 设置默认相机位置 */\r\n      viewer3D.setCameraStatus(cameraState); /* 设置相机位置 */\r\n      viewer3D.render();\r\n    });\r\n    //添加界面开始加载时事件\r\n  };\r\n\r\n  //加载失败回调函数\r\n  function failureCallback(error) {\r\n    console.log(error);\r\n  };\r\n}","function ChoseStruction(modelID, viewer3D) {\r\n  // 选中id为\"modelID\"的构件\r\n  viewer3D.getModel().addSelectedComponentsById([String(modelID)]);\r\n  // 定位到选中的构件\r\n  viewer3D.zoomToSelectedComponents();\r\n  // 清除构件选中状态\r\n  viewer3D.getModel().clearSelectedComponents();\r\n\r\n  let color = new Glodon.Web.Graphics.Color(\"#5ca79a\", 0.9);\r\n  // 对关注构件进行着色\r\n  viewer3D.getModel().clearOverrideColorComponents();\r\n  viewer3D.overrideComponentsColorById([String(modelID)], color);\r\n  viewer3D.render();\r\n}\r\n\r\nfunction Chosefamily(f, viewer3D) {\r\n  // 选中fid为\"fID\"的构件\r\n  viewer3D.getModel().addSelectedComponentsByObjectData([{\"family\": f}]);\r\n  // 定位到选中的构件\r\n  viewer3D.zoomToSelectedComponents();\r\n  // 清除构件选中状态\r\n  viewer3D.getModel().clearSelectedComponents();\r\n\r\n  let color = new Glodon.Web.Graphics.Color(\"#5ca79a\", 0.9);\r\n  // 对关注构件进行着色\r\n  viewer3D.getModel().clearOverrideColorComponents();\r\n  viewer3D.overrideComponentsColorByObjectData([{\"family\": f}], color);\r\n  viewer3D.render();\r\n}\r\n\r\nfunction Activefamily(family, viewer3D) {\r\n  if (!family.isTransparent) {\r\n    viewer3D.getModel().transparentComponentsByObjectData([{\"family\": family.f}]);\r\n    viewer3D.render();\r\n  } else {\r\n    viewer3D.getModel().opaqueComponentsByObjectData([{\"family\": family.f}]);\r\n    viewer3D.render();\r\n  }\r\n  for (let struction of family.structions) {\r\n    struction.isTransparent = !family.isTransparent\r\n  }\r\n}\r\n\r\nfunction Activestruction(struction, viewer3D) {\r\n  if (!struction.isTransparent) {\r\n    viewer3D.getModel().transparentComponentsById([String(struction.sid)]);\r\n    viewer3D.render();\r\n  } else {\r\n    viewer3D.getModel().opaqueComponentsById([String(struction.sid)]);\r\n    viewer3D.render();\r\n  }\r\n}\r\n\r\nexport { ChoseStruction, Chosefamily, Activefamily, Activestruction }","import script from \"./Sidebar.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Sidebar.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./Sidebar.vue?vue&type=style&index=0&id=ccfb8608&lang=less&scoped=true\"\n\nimport exportComponent from \"E:\\\\Code\\\\Dam\\\\大坝项目\\\\dam-project\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-ccfb8608\"]])\n\nexport default __exports__","<template>\n  <sidebar :bar-data=\"$store.state.mData\"></sidebar>\n  <div class=\"containers\">\n    <div class=\"container damView\">\n      <div class=\"box\" id=\"m-dam-view\"></div>\n    </div>\n    <div class=\"container monitorList\">\n        <div class=\"box\">\n          <div class=\"subtitle\">环境量类</div>\n          <h1 class=\"title\">温度计</h1>\n          <ul class=\"list\">\n            <li class=\"item\">\n              <span class=\"key\">\n                <p class=\"text\">长度</p>\n              </span>\n              <span class=\"value\">\n                <p class=\"text\">60.0mm</p>\n              </span>\n            </li>\n            <li class=\"item\">\n              <span class=\"key\">\n                <p class=\"text\">直径</p>\n              </span>\n              <span class=\"value\">\n                <p class=\"text\">8.0mm</p>\n              </span>\n            </li>\n            <li class=\"item\">\n              <span class=\"key\">\n                <p class=\"text\">型号</p>\n              </span>\n              <span class=\"value\">\n                <p class=\"text\">RT-2</p>\n              </span>\n            </li>\n            <li class=\"item\">\n              <span class=\"key\">\n                <p class=\"text\">测量范围</p>\n              </span>\n              <span class=\"value\">\n                <p class=\"text\">-55~+125℃</p>\n              </span>\n            </li>\n            <li class=\"item\">\n              <span class=\"key\">\n                <p class=\"text\">测量精度</p>\n              </span>\n              <span class=\"value\">\n                <p class=\"text\">±0.3℃</p>\n              </span>\n            </li>\n            <li class=\"item\">\n              <span class=\"key\">\n                <p class=\"text\">制造商</p>\n              </span>\n              <span class=\"value\">\n                <p class=\"text\">四川葛南仪器有限公司</p>\n              </span>\n            </li>\n          </ul>\n        </div>\n      </div>\n    <div class=\"container monitorImg\">\n      <div class=\"box\">\n        <h1 class=\"title\">监测器剖面图</h1>\n        <img src=\"@/assets/img/温度计模型图.png\" alt=\"\">\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { onMounted } from 'vue';\nimport { useStore } from 'vuex';\n\nimport useBimface from '@/hooks/useBimface';\nimport Sidebar from '@/components/Sidebar.vue'\n\nconst store = useStore()\n\nconst viewToken = store.state.viewToken\nonMounted(() => {\n  store.state.viewer3D = null\n  useBimface(viewToken, \"m-dam-view\", store)\n})\n\n\n</script>\n\n<style lang='less' scoped>\n.containers {\n  position: relative;\n  box-sizing: border-box;\n  height: calc(100% - 10px);\n  margin-right: 10px;\n\n  flex: 1;\n\n  .container {\n    position: absolute;\n    box-sizing: border-box;\n    padding: 10px 0 0 10px;\n\n    .box {\n      box-sizing: border-box;\n      width: 100%;\n      height: 100%;\n      padding: 10px;\n      background-color: rgb(34, 34, 34);\n      border-radius: 20px;\n      overflow: hidden;\n    }\n  }\n  .damView {\n    top: 0;\n    left: 0;\n    width: 80%;\n    height: 100%;\n  }\n  .monitorList {\n    top: 0;\n    right: 0;\n    height: 50%;\n    width: 20%;\n\n    .box {\n      border-top-left-radius: 0 !important;\n    }\n  \n    .subtitle {\n      position: absolute;\n      top: 13px;\n      left: 18px;\n      font-size: 15px;\n      color: #aaa;\n    }\n\n    .title {\n      font-size: 23px;\n      text-align: center;\n      margin-top: 8px;\n      margin-bottom: 13px;\n      white-space: nowrap;\n      text-overflow: clip;\n    }\n  \n    .list {\n      display: flex;\n      height: calc(100% - 58px);\n      flex-direction: column;\n  \n  \n      .item {\n        font-size: 20px;\n        display: flex;\n        flex: 1 1 0%;\n        border-bottom: 2px dashed #AAAAAA;\n        \n  \n        span {\n          flex-basis: 50%;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n  \n          p {\n            white-space: nowrap;\n            text-overflow: clip;\n          }\n  \n          &:first-child {\n            border-right: 2px dashed #AAAAAA;\n          }\n        }\n  \n        &:last-child {\n          border-bottom: none;\n          font-size: 16px;\n          \n          .value {\n            padding: 0 7px;\n          }\n        }\n  \n        &:nth-child(odd) {\n          background-color: rgba(255,255,255,.05);\n        }\n      }\n    }\n  }\n  .monitorImg {\n    bottom: 0;\n    right: 0;\n    height: 50%;\n    width: 20%;\n  \n    .title {\n      font-size: 23px;\n      text-align: center;\n      margin-bottom: 13px;\n      \n      white-space: nowrap;\n      text-overflow: clip;\n    }\n  \n    img {\n      padding-top: 30%;\n      width: 100%;\n    }\n  }\n}\n\n</style>","import script from \"./MonitorView.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./MonitorView.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./MonitorView.vue?vue&type=style&index=0&id=5c425f70&lang=less&scoped=true\"\n\nimport exportComponent from \"E:\\\\Code\\\\Dam\\\\大坝项目\\\\dam-project\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-5c425f70\"]])\n\nexport default __exports__"],"names":["useBimface","viewToken","mountId","store","viewer3D","app","loaderConfig","BimfaceSDKLoaderConfig","cameraState","successCallback","viewMetaData","domShow","document","getElementById","webAppConfig","Glodon","Bimface","Application","WebApplication3DConfig","domElement","WebApplication3D","addView","getViewer","state","addEventListener","Viewer","Viewer3DEvent","ViewAdded","monochrome","Web","Graphics","Color","setBackgroundColor","recordCustomHomeview","setCameraStatus","render","failureCallback","error","console","log","BimfaceSDKLoader","load","ChoseStruction","modelID","getModel","addSelectedComponentsById","String","zoomToSelectedComponents","clearSelectedComponents","color","clearOverrideColorComponents","overrideComponentsColorById","Chosefamily","f","addSelectedComponentsByObjectData","overrideComponentsColorByObjectData","Activefamily","family","isTransparent","opaqueComponentsByObjectData","transparentComponentsByObjectData","struction","structions","Activestruction","opaqueComponentsById","sid","transparentComponentsById","__exports__","useStore","onMounted"],"sourceRoot":""}